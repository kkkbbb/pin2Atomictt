/**
 * EmptyState ç»Ÿä¸€ç©ºçŠ¶æ€ç»„ä»¶
 *
 * åŠŸèƒ½ï¼š
 * - ç»Ÿä¸€çš„ç©ºçŠ¶æ€æ˜¾ç¤º
 * - æ”¯æŒè‡ªå®šä¹‰å›¾æ ‡ã€æ ‡é¢˜ã€æè¿°
 * - æ”¯æŒæ“ä½œæŒ‰é’®
 *
 * æ›¿æ¢ä½ç½®ï¼š
 * - MenuPage.ets L979-1008
 * - CouponPage.ets L360-383
 */

export interface EmptyStateConfig {
  icon?: string | ResourceStr;
  title: string;
  message?: string;
  actionText?: string;
  onAction?: () => void;
}

@Component
export struct EmptyState {
  @Prop config: EmptyStateConfig;

  build() {
    Column({ space: 16 }) {
      // å›¾æ ‡
      if (this.config.icon) {
        if (typeof this.config.icon === 'string') {
          Image(this.config.icon)
            .width(120)
            .height(120)
            .objectFit(ImageFit.Contain)
        } else {
          Image(this.config.icon)
            .width(120)
            .height(120)
            .objectFit(ImageFit.Contain)
        }
      } else {
        // é»˜è®¤ç©ºçŠ¶æ€å›¾æ ‡ï¼ˆä½¿ç”¨æ–‡æœ¬è¡¨æƒ…ç¬¦å·ï¼‰
        Text('ðŸ“­')
          .fontSize(80)
          .width(120)
          .height(120)
          .textAlign(TextAlign.Center)
      }

      // æ ‡é¢˜
      Text(this.config.title)
        .fontSize(16)
        .fontWeight(FontWeight.Medium)
        .fontColor('#666666')
        .textAlign(TextAlign.Center)

      // æè¿°
      if (this.config.message) {
        Text(this.config.message)
          .fontSize(14)
          .fontColor('#999999')
          .textAlign(TextAlign.Center)
          .maxLines(3)
          .textOverflow({ overflow: TextOverflow.Ellipsis })
          .width('80%')
      }

      // æ“ä½œæŒ‰é’®
      if (this.config.actionText && this.config.onAction) {
        Button(this.config.actionText)
          .fontSize(14)
          .fontColor('#FFD700')
          .backgroundColor('#FFFFFF')
          .border({
            width: 1,
            color: '#FFD700'
          })
          .borderRadius(20)
          .padding({ left: 24, right: 24, top: 8, bottom: 8 })
          .margin({ top: 8 })
          .onClick(() => {
            if (this.config.onAction) {
              this.config.onAction();
            }
          })
      }
    }
    .width('100%')
    .height('100%')
    .justifyContent(FlexAlign.Center)
    .alignItems(HorizontalAlign.Center)
    .padding(32)
  }
}
